<!DOCTYPE html>
<html lang="en-us">
<head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Nginx User Directories</title>
	
	
	<link rel="stylesheet" href="/css/style.css">
	
</head>
<body>
	<header>
  <h1><a href="http://localhost:1313/">ZWEERTS.xyz</a></h1>
	
</header>

	
	<main>
		<article>
			<h2>Nginx User Directories</h2>
			<time datetime="2023-11-07T17:40:01">
        <i>7 November 2023</i>
      </time>
			<div>
				<p>First config maps <code>/home/john</code> to <a href="#">john.example.com</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#66d9ef">server</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">listen</span> <span style="color:#ae81ff">80</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">listen</span> <span style="color:#e6db74">[::]:80</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">server_name</span> ~<span style="color:#e6db74">^(?&lt;user&gt;[a-zA-Z0-9-]+)\.example\.com$;</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">location</span> <span style="color:#e6db74">/</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">alias</span> <span style="color:#e6db74">/home/</span>$user/public_html/;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">index</span> <span style="color:#e6db74">index.html</span> <span style="color:#e6db74">index.htm</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">autoindex</span> <span style="color:#66d9ef">on</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">error_page</span> <span style="color:#ae81ff">404</span> <span style="color:#e6db74">/home/</span>$user/public_html/404.html;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">error_page</span> <span style="color:#ae81ff">500</span> <span style="color:#ae81ff">502</span> <span style="color:#ae81ff">503</span> <span style="color:#ae81ff">504</span> <span style="color:#e6db74">/home/</span>$user/public_html/50x.html;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div><p>Second config maps <code>/home/john</code> to <a href="#">http://example.com/~john</a></p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-nginx" data-lang="nginx"><span style="display:flex;"><span><span style="color:#66d9ef">server</span> {
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">listen</span> <span style="color:#ae81ff">80</span>;
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">listen</span> <span style="color:#e6db74">[::]:80</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">server_name</span> <span style="color:#e6db74">example.com</span> <span style="color:#e6db74">www.example.com</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">root</span> <span style="color:#e6db74">/var/www/example.com</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">location</span> ~ <span style="color:#e6db74">^/~(.+?)(/.*)?$</span> {
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">alias</span> <span style="color:#e6db74">/home/</span>$1/public_html$2;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">index</span> <span style="color:#e6db74">index.html</span> <span style="color:#e6db74">index.htm</span>;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">autoindex</span> <span style="color:#66d9ef">on</span>;
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">error_page</span> <span style="color:#ae81ff">404</span> <span style="color:#e6db74">/home/</span>$1/public_html/404.html;
</span></span><span style="display:flex;"><span>        <span style="color:#f92672">error_page</span> <span style="color:#ae81ff">500</span> <span style="color:#ae81ff">502</span> <span style="color:#ae81ff">503</span> <span style="color:#ae81ff">504</span> <span style="color:#e6db74">/home/</span>$1/public_html/50x.html;
</span></span><span style="display:flex;"><span>    }
</span></span><span style="display:flex;"><span>}
</span></span></code></pre></div>
			</div>
			
			<div>
        <h3>Tags</h3>
				<ul id="tags">
					
					<li><a href="/tags/nginx">nginx</a></li>
					
				</ul>
			</div>
			
			
		</article>
	</main>
<aside>
  <h3>Latest Posts</h3>
  <nav>
    <ul>
      
      <li><a href="/posts/import-export-phone-contacts/">Export iPhone Contacts To Nokia</a></li>
      
      <li><a href="/posts/minimal-vim-options/">Minimal Vim Options</a></li>
      
      <li><a href="/posts/jack-of-all-trades/">Jack Of All Trades</a></li>
      
      <li><a href="/posts/recursive-bash/">Recursive Bash</a></li>
      
      <li><a href="/posts/nginx-user-directories/">Nginx User Directories</a></li>
      
    </ul>
  </nav>
</aside>


	<footer>
	<p>&copy; 2024 <a href="http://localhost:1313/">ZWEERTS.xyz</a></p>
</footer>

</body>
</html>
